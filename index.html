para animaciones
  useEffect(() => {
    if (!images) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            setIsVisible((prev) => ({ ...prev, [entry.target.id]: true }));
          }
        });
      },
      { threshold: 0.1 }
    );

    const sections = document.querySelectorAll('.reveal-section');
    sections.forEach((section) => observer.observe(section));

    return () => observer.disconnect();
  }, [images]);

  // Pantalla de Inicio / Carga de fotos
  if (!images) {
    return (
      <div className="min-h-screen bg-[#080808] flex items-center justify-center p-6">
        <div className="max-w-md w-full border border-[#d4b499]/20 p-10 bg-white/5 backdrop-blur-md text-center rounded-sm">
          <h1 className="text-4xl font-serif text-white mb-2">Vanessa</h1>
          <p className="text-[#d4b499] text-[10px] uppercase tracking-[0.4em] mb-10 opacity-70">
            Nuestra Historia en Imágenes
          </p>
          <div className="space-y-6">
            <p className="text-white/40 text-sm font-light leading-relaxed">
              Para comenzar esta experiencia, por favor selecciona 10 fotos que representen vuestros mejores momentos.
            </p>
            <input
              type="file"
              multiple
              accept="image/*"
              onChange={handleFileChange}
              id="upload"
              className="hidden"
            />
            <label
              htmlFor="upload"
              className="block w-full py-4 border border-[#d4b499] text-[#d4b499] text-[11px] uppercase tracking-[0.3em] cursor-pointer hover:bg-[#d4b499] hover:text-black transition-all duration-500"
            >
              Seleccionar Momentos
            </label>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="bg-[#080808] text-white font-sans selection:bg-[#d4b499] selection:text-black">
      
      {/* SECCIÓN 1: HERO */}
      <section 
        id="section-0"
        className="reveal-section relative h-screen flex items-center justify-center overflow-hidden"
      >
        <div 
          className="absolute inset-0 bg-cover bg-center transition-transform duration-[10s] ease-out scale-110"
          style={{ 
            backgroundImage: `url(${images[0]})`, 
            filter: 'brightness(0.4)',
            transform: isVisible['section-0'] ? 'scale(1)' : 'scale(1.1)'
          }}
        />
        <div className={`relative z-10 text-center px-6 transition-all duration-[2s] ${isVisible['section-0'] ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}>
          <p className="text-[#d4b499] text-[10px] uppercase tracking-[0.6em] mb-6">Un regalo para ti</p>
          <h1 className="text-4xl md:text-7xl font-serif leading-tight max-w-4xl mx-auto">
            Vanessa, hay cosas que no se explican... se sienten.
          </h1>
        </div>
      </section>

      {/* SECCIÓN 2: IMAGEN + TEXTO */}
      <section 
        id="section-1"
        className="reveal-section py-32 px-6 max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center"
      >
        <div className={`transition-all duration-[1.5s] ${isVisible['section-1'] ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-10'}`}>
          <img src={images[1]} alt="Recuerdo" className="w-full h-[70vh] object-cover grayscale hover:grayscale-0 transition-all duration-1000" />
        </div>
        <div className={`transition-all duration-[1.5s] delay-300 ${isVisible['section-1'] ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-10'}`}>
          <h2 className="text-4xl font-serif text-[#d4b499] mb-6">El primer brillo</h2>
          <p className="text-white/60 font-light leading-relaxed text-lg">
            Esos instantes donde el tiempo se detiene y solo importa quién tenemos al lado. No es el lugar, es la compañía.
          </p>
        </div>
      </section>

      {/* SECCIÓN 3: CITA FULL SCREEN */}
      <section 
        id="section-2"
        className="reveal-section relative h-[80vh] flex items-center justify-center overflow-hidden"
      >
        <div 
          className="absolute inset-0 bg-cover bg-center bg-fixed"
          style={{ backgroundImage: `url(${images[2]})`, filter: 'brightness(0.3)' }}
        />
        <div className={`relative z-10 text-center px-10 transition-all duration-[2s] ${isVisible['section-2'] ? 'scale-100 opacity-100' : 'scale-90 opacity-0'}`}>
          <h2 className="text-3xl md:text-5xl font-serif italic max-w-3xl leading-snug">
            "Fue aquí cuando entendí que eras mi hogar."
          </h2>
        </div>
      </section>

      {/* SECCIÓN 4: MOSAICO */}
      <section className="py-32 bg-black overflow-hidden">
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 p-4 max-w-7xl mx-auto">
          {[images[3], images[4], images[5], images[6]].map((img, i) => (
            <div 
              key={i} 
              id={`mosaic-${i}`}
              className="reveal-section aspect-[3/4] overflow-hidden group"
            >
              <img 
                src={img} 
                alt={`Mosaico ${i}`} 
                className={`w-full h-full object-cover transition-all duration-[2s] group-hover:scale-110 ${isVisible[`mosaic-${i}`] ? 'opacity-100' : 'opacity-0'}`}
              />
            </div>
          ))}
        </div>
      </section>

      {/* SECCIÓN 5: CÓMPLICES */}
      <section 
        id="section-3"
        className="reveal-section py-32 px-6 max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center"
      >
        <div className={`md:order-2 transition-all duration-[1.5s] ${isVisible['section-3'] ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-10'}`}>
          <img src={images[7]} alt="Cómplices" className="w-full h-[70vh] object-cover" />
        </div>
        <div className={`md:order-1 transition-all duration-[1.5s] delay-300 ${isVisible['section-3'] ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-10'}`}>
          <h2 className="text-4xl font-serif text-[#d4b499] mb-6">Cómplices</h2>
          <p className="text-white/60 font-light leading-relaxed text-lg">
            Encontré en tu risa el refugio que no sabía que estaba buscando. Eres mi aventura favorita y mi paz necesaria.
          </p>
        </div>
      </section>

      {/* SECCIÓN 6: CITA TEXTO */}
      <section className="py-40 bg-[#050505] text-center px-6">
        <h2 className="text-2xl md:text-4xl font-serif italic max-w-4xl mx-auto opacity-90 leading-relaxed text-[#d4b499]">
          "En un mundo lleno de ruidos, tú eres mi melodía favorita... y mi silencio más hermoso."
        </h2>
      </section>

      {/* SECCIÓN 7: EL AHORA */}
      <section 
        id="section-4"
        className="reveal-section relative h-screen flex items-center justify-center overflow-hidden"
      >
        <div 
          className="absolute inset-0 bg-cover bg-center"
          style={{ backgroundImage: `url(${images[8]})`, filter: 'brightness(0.4)' }}
        />
        <div className={`relative z-10 text-center px-6 transition-all duration-[2s] ${isVisible['section-4'] ? 'opacity-100' : 'opacity-0'}`}>
          <h2 className="text-4xl md:text-6xl font-serif mb-6">El ahora</h2>
          <p className="text-white/50 max-w-md mx-auto italic font-light text-xl">
            Mirar atrás es bonito, pero mirarte hoy es descubrir que lo mejor está por venir.
          </p>
        </div>
      </section>

      {/* SECCIÓN 8: BOTÓN SORPRESA */}
      <section className="py-40 text-center">
        <button 
          onClick={() => setShowModal(true)}
          className="group relative inline-flex items-center justify-center p-8 transition-transform hover:scale-110 active:scale-95"
        >
          <div className="absolute inset-0 border border-[#d4b499]/30 rounded-full animate-ping opacity-20" />
          <span className="text-3xl text-[#d4b499]"><SparkleIcon /></span>
        </button>
        <p className="mt-6 text-[10px] uppercase tracking-[0.5em] opacity-40">Toca para el mensaje final</p>
      </section>

      {/* FOOTER */}
      <footer className="py-40 flex flex-col items-center justify-center text-center px-6">
        <h2 className="text-4xl md:text-7xl font-serif mb-12 max-w-5xl leading-tight">
          Vanessa, esto es solo el inicio.
        </h2>
        <div className="w-16 h-[1px] bg-[#d4b499] mb-12 opacity-50" />
        <p className="text-[10px] uppercase tracking-[1.5em] opacity-30">Siempre nosotros</p>
      </footer>

      {/* MODAL SORPRESA */}
      {showModal && (
        <div 
          className="fixed inset-0 z-[100] bg-black/95 flex flex-col items-center justify-center p-6 animate-in fade-in duration-700"
          onClick={() => setShowModal(false)}
        >
          <div className="max-w-2xl w-full text-center" onClick={e => e.stopPropagation()}>
            <img 
              src={images[9]} 
              alt="Final" 
              className="max-h-[60vh] mx-auto rounded-sm shadow-2xl mb-10 border border-white/10" 
            />
            <h2 className="text-3xl font-serif text-[#d4b499] mb-4">Eres mi mejor decisión.</h2>
            <p className="text-white/50 italic text-lg">Gracias por ser tú, hoy y siempre.</p>
            <button 
              onClick={() => setShowModal(false)}
              className="mt-12 text-[10px] uppercase tracking-widest text-white/30 border-b border-white/10 pb-1"
            >
              Cerrar
            </button>
          </div>
        </div>
      )}

      {/* Estilos específicos para animaciones suaves */}
      <style dangerouslySetInnerHTML={{ __html: `
        .reveal-section {
          transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-in {
          animation: fadeIn 0.8s ease-out forwards;
        }
      `}} />
    </div>
  );
}